---
title: Jekyll Layouts
instalment: 180
miniseries: GitHub Pages
creators: [bart, allison]
date: 2025-05-24
---

TO DO

## Matching Podcast Episode

TO DO

## Instalment Resources

- The instalment ZIP file — [pbs180.zip](./assets/pbs180.zip) TO UPDATE

## What's the Problem to be Solved?

The markdown files that contain a Jekyll site's contents only contain the contents, they don't contain any of the other things you expect to see on a web page like some site-related branding, navigation bars, or footers. So the obvious question is how those kinds of things get added? The answer is that the content in your files gets wrapped by pre-defined *layouts* (to use the correct Jekyll jargon) which are HTML files containing Liquid template object and tags. You can think of layouts like Russian nesting dolls —  the result of converting tour Markdown to HTML is the smallest doll, and that doll gets wrapped with one or more layouts to build the final HTML web page saved to the output folder.

Note my repeated use of the word *wrap*, this is the word the Jekyll documentation uses, and it's the right way to think about how Jekyll sites get themed.

## How Jekyll Layouts Work

Firstly, there is always a default layout, and if nothing tells Jekyll to use a different layout, then your page's content will get wrapped by that default layout.

So where does the default layout come from? Jekyll looks for a file named `default.html`, and it tries the following locations, in the following order until it finds one:

1.  `_layouts/default.html` in your input folder
2. `_layouts/default.html` in the theme specified in the site configuration, if there is one
3. `_layouts/default.html` own the default theme

For now, we will be working entirely within our current site, **so we'll define all our layouts**, including our default layout, **in the `_layouts` folder** in our input folder (`docs` in our example site).

Layout files are just plain old HTML pages containing Liquid objects and liquid tags.

Since layouts are designed to wrap content, they use the Jekyll-specific Liquid variable `content` to insert the content they are wrapping. In other words, at the point in your layout that you want the HTML version of your Markdown to appear, you add the Liquid Object `{% raw %}{{ content }}{% endraw %}`.

The simplest layout would simply be:

{% raw - %}
```html
<html>
  <body>
    {{ content}}
  </body>
</html>
```
{%- endraw %}


### Specifying Layouts

Layouts are always specified with base-name of HTML file that defines them, e.g. the layout `front_page` will always be defined by the file `front_page.html`. Jekyll decides on which `front_page.html` file to use based on the same rules described above for the default layout, that is to say:

1. The site's own `_layouts` folder (what we will be doing for now)
2. The site's theme, if one is specified (we are not specifying one ATM)
3. The default theme

There is no limit to how many layouts you create, and each page can be rendered by any layout. Jekyll chooses the layout file to go looking for by checking for the following metadata in the following order:

1. A front matter entry named `layout`
2. A taxonomy-level default layout (we'll be ignoring this feature for now since we're only using the basic *Pages* taxonomy ATM)
3. The default layout (`default.html`)

As a practical example, if we assume we have created a special layout for the home page and saved it as `_layouts/front_page.html`, then we would specify it's use by expanding the front matter in our `index.md` file to specify our layout like so:

```yaml
---
title: Home
layout: front_page
---
```



### Nesting Layouts

To avoid confusion as to how this works, I suggest avoiding thinking of layouts inheriting from each other, and instead think of nested layouts — yes, back to our Russian Nesting Dolls metaphor.

The inner-most doll is the HTML generated by the markdown conversion, and that HTML will always be wrapped by a layout, either the default, or one specified in the front matter or the site's configuration. **Every layout has the option to use its front matter to specify that the output it creates should be wrapped in another layout**.

If we continue out hypothetical example from above and image that we want our `front_page` layout specified in `index.md` to add a little content around the result of converting `index.md` to HTML before wrapping all that with the default layout we would add the following front matter to the top of `_layouts/front_page.html`:

```yaml
---
layout: default
---
```

This would give us three nested proverbial dolls — the markdown converted to HTML as the inner doll, the extra HTML wrapped around that by the `front_page` layout as the middle doll, and the HTML wrapped around all that by the default theme as the final outer doll.

In other words, our page specifies a layout that specifies another layout.

### Liquid Variables within Layouts

Firstly, Jekyll's standard `site` dictionary is available for use in all layouts.

Secondly, because layouts are always invoked to convert a specific markdown file to HTML, there is always the concept of a *current page*, so layouts can access all the keys in the dictionary Jekyll builds to describe the current page, `page`. This dictionary contains a combination of information collected by Jekyll, and all the keys in the markdown file's front matter. Some useful data in this dictionary includes `page.title` for the page's title, and `page.url` for the part of the page's final URL after the domain name. The [Jekyll documentation on variables](https://jekyllrb.com/docs/variables/) gives a full description.

Note that when we move on to look at more advanced taxonomies the `page` dictionary will become a lot more useful to us than it is now.

Finally, Liquid tags and objects within layout files have access to the Jekyll provided variable `layout` which is a dictionary containing just the keys defined in the layout file's front matter.

So, in short, the Liquid objects and tags within a layout file can use:

* `content` to access the content that should be wrapped.
* `layout` to access any front matter defined within the layout itself.
* `page` to access page-specific metadata including any front matter added to the top of the page.
* `site` to access the site-specific data including all keys added to the site's `config_yml` file.

### Including Shared Snippets in Layouts

TO DO

## How our Current Default Bootstrap 5 Theme Works

From the start of our exploration of Jekyll we have been using a basic layout that includes Bootstrap 5. Until now, we've not explained how this layout works, I've simply asked you to accept it as magic sauce that will be explained later. Well, now is the time to remove the mystery!

TO DO

## Worked Example 1 — A Basic Custom Layout for the Front Page

TO DO

## Worked Example 2 — A Completely Custom Layout for Front Page

TO DO

## Final Thoughts

TO DO

