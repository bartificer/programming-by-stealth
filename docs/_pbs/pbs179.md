---
title: Introducing Liquid Templates
instalment: 179
miniseries: GitHub Pages
creators: [bart, allison]
date: 2025-05-10
---
TO DO

## Matching Podcast Episode

TO DO

## Instalment Resources

- The instalment ZIP file ‚Äî [pbs179.zip](./assets/pbs179.zip) ‚Äî TO UPDATE

## What's the Problem to be Solved?

When building sites with a static site generator like Jekyll you need a mechanism for injecting information into the otherwise static source files using some kind of place-holders. That could be site-wide information like a list of all pages that exist, page-specific information like the date it was published, theme-specific information, or some other form of data being added to the site. In short, static site generators need some kind of templating engine, and rather than inventing their own, the Jekyll developers chose to use an existing open source templating engine, [Liquid](https://shopify.github.io/liquid/).

## Some Background on Liquid

Liquid was developed as part of the very first release of the [Shopify](https://www.shopify.com/) e-commerce platform, and was released as open source immediately. It remains in use today as the templating engine used to customise customer stores on the Shopify platform.

There are in effect three variants of Liquid ‚Äî
there is the open source core which the other variants build on, and which anyone can use in any generic context. And then there are dedicated variants for Liquid's two mistnprominent usages ‚Äî a variant for Shopify, and another for Jekyll. These both extend the core by adding additional application-specific features.

I mention this detail because it can be really helpful when interpreting search results!

There are the official documentation links for the two flavours that are relevant for our use:

* **The Core Liquid Docs:** [shopify.github.io/‚Ä¶](https://shopify.github.io/liquid/) (we can use all the features described here for the specific version of Liquid included in our specific install of Jekyll)
* **The Jekyll Extensions to Liquid:** [jekyllrb.com/‚Ä¶](https://jekyllrb.com/docs/liquid/)

Finally, when you use Jekyll with GitHub Pages (like we are), there is one final source of extended liquid functionality to be aware of ‚Äî the `github-metadata` Jekyll plugin included automatically as a dependency of the `github-pages` gem. The official (very limited) [documentation is available here](https://jekyll.github.io/github-metadata/).

## Liquid's Architecture

If you zoom out to the conceptual level, Liquid really is just an alternative to other templating engines like Mustach which we used while building client-side Javascript web apps. 

Liquid takes as input template strings which contain placeholders, and a collection of data, and produces output strings the appropriate data substituted for the placeholders. 

Where things differ is in the proverbial *plumbing*. We invoked Mistach by calling a two-argument function that returned the output strings ‚Äî we passed that function a template string with placeholders, and a data structure, and it returned a string.

With Jekyll it's our source files that act as the template strings, and Jekyll provides the data as part of the site rendering process. The results of the substitutions appear in the files that make up the generated site.

So: `input files with Liquid tags + Jekyll variables ‚Üí output files`

There are of some subtleties, but the big-picture rule is that HTML and Markdown files in the input folder always get processed with Liquid, and so do other text-based files in the input folder with front matter, but there are exceptions and you can add explicit exclusions too.

## Jekyll's Liquid Variables

Under the hood the data Jekyll presents to Liquid is actually stored in Ruby variables, but it's presented to the world as generic data compatible with both JSON and YAML. In other words, the data available for use in Liquid templates consists of arbitrarily nested combinations of simple values, lists, and dictionaries.

The core version of Liquid provides no built-in data structures, and the Shopify and Jekyll variants provide completely different sets of data.

All the data Jekyll makes available within Liquid templates is organised into a well named and well documented collection of dictionaries. The documentation refers to these dictionaries are *variables*. Some of these variables are available everywhere Jekyll processes Liquid tags, but some are only available in specific contexts. They are all so sensibly named that you're unlikely to try use the wrong variable in the wrong context.

You'll find a [full list of the variables in the Jekyll documentation](https://jekyllrb.com/docs/variables/), but some of the most important ones are:

* `site` for information related to the site as a whole.
  * When using Jekyll with GitHub Pages there is also `site.github` with additional GitHub-specific site-wide data related to the repository hosting the site.
* `page` for information related to the current page.
* `layout` for the information related to the theme layout(s) in use for building the current page.

We'll learn more about these variables later in the series as we start to use them.

## Basic Liquid Syntax ‚Äî Objects, Tags & Filters

Before we dive in, just a reminder that in this series, we always use the technically correct jargon as used in the relevant official documentation, even when it is, perhaps, not the most elegant of terminology. While it can be a little irritating, not doing so would be disempowering, because it would be so much harder to independently give deeper into the docs or interpret search results.

With that said, let's look at the three main components of the Liquid syntax ‚Äî *objects*, *tags*, and *filters*.

### Liquid Objects

Were the Shopify developers to have asked for my opinion I would definitely not have advised they name their data place-holders *objects*, but, alas, they didn't care about the opinions of a neophyte sysadmin when they made that choice way back in 2006 üòâ

Anyway, the Liquid documentation does refer to data placeholders as *liquid objects*, and the syntax is very straightforward ‚Äî simply surround the reference to some data with doubled curly braces (yes, just like Mustach)!

Liquid also uses the same basic Javascript-like syntax for referencing nested variables ‚Äî periods (`.`) to descend into dictionaries, and square beaches (`[]`) to access list elements via their zero-based indexes. So, to insert the site description from the Jekyll `site` variable you would use {% raw %}`{{ site.description }}`{% endraw %}, and to get the title of the site's first page you would use {% raw %}`{{ site.pages[0].title }}`{% endraw %}.

### Liquid Tags

If you want to use liquid for anything other than simply inserting some data, you need to use a *liquid tag*. The syntax for these is also very simple ‚Äî wrap the tag name and it's optional arguments with {% raw %}`{%`{% undraw %} and {% raw %}`%}`{% endraw %}.

Each tag has its own syntax, but to give you a flavour, you can implement conditions like so:

```markdown
{% raw %}This site {% if site.title %}is titled '{{ site.title }}'{% else %}has no title üôÅ{% endif %}{% endraw %}
```

And basic iteration like so:

```markdown
{% raw %}# Site Pages:
{% for page in site.page %}
- [{{ page.title }}]({{ page.url }})
{% else %}
*This site has no pages üôÅ*
{% endfor %}{% endraw %}
```

We'll be looking at tags in more detail later in the series.

### Liquid Filters

Anywhere data can be referenced in Liquid, it can be transformed using *liquid filters*. Data is piped to filters using the `|` symbol, and multiple filters can be chained together with additional `|`s. All filters have names, but some also take arguments. A very useful filter that takes one argument is `default` which outputs the original value piped to it un-changed, or, if that value was empty, outputs it's one argument instead. It is very useful when working with optionally defined data.

Again, we'll be looking at filters in detail later in the series, but for now, here's an example of the `default` filter in use:

```markdown
**Page ID:** {{ page.id | default: "this page has no ID" }}
```

## Liquid Data Types

As mentioned previously, Liquid variables only support the data types supported by JSON and YAML, so it really is just the basics:

TO DO ‚Äî insert table

### A Note on Truthiness

In Liquid, just about everything evaluates to `true` when coerced to a boolean ‚Äî **the only things that coerce to `false` are `false` itself and `nil`**, everything else, including the number zero, empty strings, empty arrays, and empty dictionaries all coerce to `true`. This can really catch developers used to more traditional languages like Javascript by surprise!


## A Very Basic Example

TO DO

## Final Thoughts

TO DO