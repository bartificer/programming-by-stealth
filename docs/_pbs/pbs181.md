---
title: Jekyll Includes
instalment: 181
miniseries: GitHub Pages
creators: [bart, allison]
date: 2025-05-24
---

TO DO

## Matching Podcast Episode

TO DO

## Instalment Resources

- The instalment ZIP file — [pbs181.zip](./assets/pbs181.zip) — TO UPDATE

## PBS 180 Challenge Solution

The challenge set at the end of [the previous instalment](./pbs180) was to add a Bootstrap 5 nav bar to the top of every page that lists all the pages on your site that gives quick access to all the site's pages.

For your convenience, you can quickly access my sample solution by [downloading a snapshot of the demo site at the appropriate commit here](https://github.com/bartificer/pbs-jekyll-demoSite/releases/tag/pbs180-challenge-startingPoint), or you can clone the repo and checkout the commit with the tag `pbs180-challenge-solution`.

Because the challenge was to add the nav bar to all pages, the only file I needed to update was the default layout, which is `_layouts/default.html` in our site's input folder (`docs`). Here's the full updated file:

```html
{% raw %}<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{{ page.title }} | {{ site.title }}</title>

  {%- comment %}Include Bootstrap 5 compiled CSS{% endcomment %}
  <link rel="stylesheet" href="{{ '/assets/css/style.css' | relative_url }}">
</head>
<body>
  <div class="container">
    {%- comment %}The page header region{% endcomment %}
    <div class="row">
      <header class="col-12 my-3">

        {%- comment %}The navigation bar arcross the very top of the page{% endcomment %}
        <nav class="navbar navbar-light bg-light navbar-expand-sm rounded-pill border border-1">
          <div class="container-fluid">

            {%- comment %}The site branding part of the nav bar{% endcomment %}
            <a class="navbar-brand" href="{{ '/' | relative_url }}">{{ site.title }}</a>

            {%- comment %}The expand toggle that will appear on the right of the nav bar when the navigation below is collapsed{% endcomment %}
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
            </button>

            {%- comment %}The collapsing list of pages{% endcomment %}
            <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
              <div class="navbar-nav">
                {%- assign nav_pages = site.html_pages | where_exp: "item", "item.title != 'Home'" %}
                {%- for p in nav_pages %}
                <a class="nav-link {%- if p.url == page.url %} active{% endif %}" aria-current="page" href="{{ p.url | relative_url }}">{{ p.title }}</a>
                {%- endfor %}
              </div>
            </div>
          </div>
        </nav>
      </header>
    </div>

    {%- comment %}The main content region{% endcomment %}
    <div class="row">
      <main class="col-12">
        {{ content }}
      </main>
    </div>
  </div>

  {%- comment %}Include Bootstrap 5 JavaScript{% endcomment %}
  <script src="{{ '/assets/js/bootstrap.bundle.min.js' | relative_url }}"></script>
</body>
</html>{% endraw %}
```

At first glance this file has expanded **a lot** but that is a little deceptive because a lot of the new lines are blank lines for better spacing, and the addition of comments to explain the page structure.

Bootstrap 5 Navbars require quite complex markup, so this seemed the opportune time to add comments to the file. Also, this gave me a good opportunity to introduce Liquid comments and explain why you might choose to use them over HTML comments.

### A Note on Liquid Comments

You can add comments to both your Jekyll layouts, and your site's content files using Liquid comment tags These are parts of lines or multiple lines wrapped with {% raw %}`{% comment %}` and `{% endcomment %}`{% endraw%}. Nothing between the opening and closing tags will appear in the generated website's files. **Liquid objects and tags within Liquid comments are ignored**, so you can use them to temporarily deactivate parts of your files while debugging problems.

Liquid comment tags support Liquid's while-space control syntax (`-` signs on the insides of delimiters [as described in the core Liquid docs](https://shopify.github.io/liquid/basics/whitespace/)), this means **you can simultaneously add spacing lines and useful information** for your future self **to your source files without either being visible in the generated HTML**!

To understand this, let's focus on just one small snippet from the top of the updated default theme:

```html
{% raw %}<title>{{ page.title }} | {{ site.title }}</title>

{%- comment %}Include Bootstrap 5 compiled CSS{% endcomment %}
<link rel="stylesheet" href="{{ '/assets/css/style.css' | relative_url }}">{% endraw %}
```

The `-` symbol to cuddled the left of the opening delimited for the opening `comment` tag ({% raw %}`{%-`{% endraw %}) tells Jekyll when it renders the page it should erase all white space to the left of the opening `comment` tag, in other words to *delete the preceding blank line*.

This means that these four lines of HTML+Liquid in the default layout appear in the generated HTML files as simply:

```html
<title>About | PBS Jekyll Demo Site</title>
<link rel="stylesheet" href="/pbs-jekyll-demoSite/assets/css/style.css">
```

With that little note on comments out of the way, let's look at how my sample solution actually works!

### How the Sample Solution Works

TO DO

## What's the Problem to be Solved?

TO DO

## Re-usable Snippets with Jekyll Includes

TO DO

## A challenge — TO DEVISE

TO DO

## Final Thoughts

TO DO
